# Archivo .env para Supabase Self-Hosted
# Copiar este archivo al mismo directorio que docker-compose.yml

# ============================================================================
# CONFIGURACIÓN BÁSICA
# ============================================================================

# URL externa de tu API (la IP donde corre Supabase)
API_EXTERNAL_URL=http://10.10.10.77:8000

# URL del sitio (la IP/dominio de tu aplicación frontend)
SITE_URL=http://10.10.10.113:8080

# URLs adicionales permitidas para redirección (separadas por comas)
ADDITIONAL_REDIRECT_URLS=http://localhost:5173,http://10.10.10.113:8080,http://localhost:8080

# Deshabilitar registro público (false = permitir signup)
DISABLE_SIGNUP=false

# ============================================================================
# CONFIGURACIÓN DE BASE DE DATOS
# ============================================================================

POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=postgres
# IMPORTANTE: Cambia esta contraseña por una segura
POSTGRES_PASSWORD=your-super-secret-password

# ============================================================================
# CONFIGURACIÓN DE JWT
# ============================================================================

# Generar con: openssl rand -base64 32
# IMPORTANTE: Cambia este secret por uno único
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long
JWT_EXPIRY=3600

# ============================================================================
# CONFIGURACIÓN DE EMAIL
# ============================================================================

# Habilitar registro con email
ENABLE_EMAIL_SIGNUP=true

# AUTO-CONFIRMACIÓN (Opción 1: Para desarrollo SIN SMTP)
# Configura esto como 'true' para desarrollo local sin configurar SMTP
ENABLE_EMAIL_AUTOCONFIRM=true

# SMTP (Opción 2: Para producción CON emails reales)
# Si ENABLE_EMAIL_AUTOCONFIRM=false, configura estos valores:

# Ejemplo: Sin SMTP (desarrollo)
SMTP_ADMIN_EMAIL=admin@localhost
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_SENDER_NAME=Supabase

# Ejemplo: Con Gmail (producción)
# SMTP_ADMIN_EMAIL=tu-email@gmail.com
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=tu-email@gmail.com
# SMTP_PASS=tu-app-password-de-gmail
# SMTP_SENDER_NAME=Tu Aplicación

# URLs de confirmación de email
MAILER_URLPATHS_INVITE=/auth/v1/verify
MAILER_URLPATHS_CONFIRMATION=/auth/v1/verify
MAILER_URLPATHS_RECOVERY=/auth/v1/verify
MAILER_URLPATHS_EMAIL_CHANGE=/auth/v1/verify

# ============================================================================
# CONFIGURACIÓN DE TELÉFONO (Opcional)
# ============================================================================

ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false

# ============================================================================
# USUARIOS ANÓNIMOS (Opcional)
# ============================================================================

ENABLE_ANONYMOUS_USERS=false

# ============================================================================
# NOTAS IMPORTANTES
# ============================================================================

# Para DESARROLLO (sin SMTP):
#   - ENABLE_EMAIL_AUTOCONFIRM=true
#   - SMTP_HOST=localhost
#
# Para PRODUCCIÓN (con SMTP real):
#   - ENABLE_EMAIL_AUTOCONFIRM=false
#   - Configurar SMTP_HOST, SMTP_USER, SMTP_PASS correctamente
#
# Después de modificar este archivo:
#   docker-compose down
#   docker-compose up -d
